---
  ### mgrote.zfs_manage_datasets
  # zfs create -o encryption=aes-256-gcm -o keyformat=passphrase hdd_data_raidz/data_crypt
  # zfs create hdd_data_raidz/videos
  # Pools müssen vorher erstellt sein!
  # rpool
  # zpool create -f -o ashift=12 rpool mirror ata-SAMSUNG_MZ7LH960HAJR-00005_S45NNC0R105094 /dev/disk/by-id/ata-SAMSUNG_MZ7LH960HAJR-00005_S45NNC0R105095 mirror /dev/disk/by-id/ata-SAMSUNG_MZ7LH960HAJR-00005_S45NNC0T380959 /dev/disk/by-id/ata-SAMSUNG_MZ7LH960HAJR-00005_S45NNC0T380961 # ungetestet, wurde nachträglich erweitert
  # HDD_DATA_RAIDZ
  # zpool create -f -o ashift=12 hdd_data_raidz raidz /dev/disk/by-id/ata-WDC_WD80EZAZ-11TDBA0_2SG991TJ /dev/disk/by-id/ata-WDC_WD80EZAZ-11TDBA0_2SGA23EJ /dev/disk/by-id/ata-ST8000DM004-2CX188_ZCT1AK0F


  ### mgrote.zfs_extra
  # Variablen für mgrote.zfs_health/trim/scrub/zed/arc_mem/ sind zusammengefasst unter zfs_extra_*
  zfs_datasets: # DatenPools werden hier nicht verwaltet
    - dataset: rpool/vm
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: rpool/vm/dir/fileserver2_test
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: rpool/vm/dir
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: rpool/vm/zvol
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: rpool/vm/qcow
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: hdd_data_raidz/papa_backup
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: hdd_data_raidz/pve_backup
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
      recordsize: 1M
    - dataset: hdd_data_raidz/videos
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
      recordsize: 1M
    - dataset: hdd_data_raidz/music
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: hdd_data_raidz/tmp
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: hdd_data_raidz/archiv
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: hdd_data_raidz/amd
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: hdd_data_raidz/bilder
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: hdd_data_raidz/hm
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: hdd_data_raidz/scans
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: hdd_data_raidz/restic
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: hdd_data_raidz/backup
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: hdd_data_raidz/buecher
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: hdd_data_raidz/programme
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
    - dataset: hdd_data_raidz/vm
      state: present
      compression: zstd
      sync: disabled
      xattr: sa
      dnodesize: auto
      atime: on
      snapdir: hidden
  zfs_extra_arc_max_size: "8589934592" # 8GB in Bytes
  zfs_extra_zfs_pools:
    - name: "rpool"
      systemd_timer_schedule: "*-01,04,07,10-01 23:00" # jeden ersten eines jeden Quartals
    - name: "hdd_data_raidz"
      systemd_timer_schedule: "*-01,04,07,10-01 23:00"

  ### mgrote.zfs_sanoid
  sanoid_datasets:
    - path: 'hdd_data_raidz/videos'
      template: '14tage'
      recursive: 'yes'
      snapshots: true
    - path: 'hdd_data_raidz/music'
      template: '14tage'
      recursive: 'yes'
      snapshots: true
    - path: 'hdd_data_raidz/papa_backup'
      template: '14tage'
      recursive: 'yes'
      snapshots: true
    - path: 'hdd_data_raidz/tmp'
      template: '3tage'
      recursive: 'yes'
      snapshots: true
    - path: 'hdd_data_raidz/pve_backup'
      template: '3tage'
      recursive: 'yes'
      snapshots: true
    - path: 'hdd_data_raidz/archiv'
      template: '14tage'
      recursive: 'yes'
      snapshots: true
    - path: hdd_data_raidz/amd
      recursive: 'no'
      snapshots: true
      template: '31tage'
    - path: hdd_data_raidz/bilder
      recursive: 'no'
      snapshots: true
      template: '14tage'
    - path: hdd_data_raidz/hm
      recursive: 'no'
      snapshots: true
      template: '14tage'
    - path: hdd_data_raidz/scans
      recursive: 'no'
      snapshots: true
      template: '3tage'
    - path: hdd_data_raidz/backup
      recursive: 'no'
      snapshots: true
      template: '31tage'
    - path: hdd_data_raidz/restic
      recursive: 'no'
      snapshots: true
      template: '3tage'
    - path: hdd_data_raidz/programme
      recursive: 'no'
      snapshots: true
      template: '14tage'
    - path: hdd_data_raidz/buecher
      recursive: 'no'
      snapshots: true
      template: '14tage'
    - path: hdd_data_raidz/vm
      recursive: 'no'
      snapshots: true
      template: '3tage'

  ### mgrote.cv4pve-autosnap
  cv4pve_api_user: root@pam!cv4pve-autosnap
  cv4pve_api_token: "{{ lookup('keepass', 'cv4pve_api_token_pve2', 'password') }}"
  cv4pve_vmid: all,-127,-112,-116,-105
  cv4pve_keep_snapshots: 5
  cv4pve_dl_link: "https://github.com/Corsinvest/cv4pve-autosnap/releases/download/v1.10.0/cv4pve-autosnap-linux-x64.zip"

  ### mgrote.proxmox_bind_mounts
  pve_bind_mounts:
    - vmid: 105
      mp_nr: 1
      mp_path_host: /rpool/vm/dir/fileserver2_test
      mp_path_guest: /share
    - vmid: 127
      mp_nr: 0
      mp_path_host: /hdd_data_raidz/videos
      mp_path_guest: /shares_videos
    - vmid: 127
      mp_nr: 2
      mp_path_host: /hdd_data_raidz/pve_backup
      mp_path_guest: /shares_pve_backup
    - vmid: 127
      mp_nr: 3
      mp_path_host: /hdd_data_raidz/papa_backup
      mp_path_guest: /shares_papa_backup
    - vmid: 127
      mp_nr: 4
      mp_path_host: /hdd_data_raidz/music
      mp_path_guest: /shares_music
    - vmid: 127
      mp_nr: 5
      mp_path_host: /hdd_data_raidz/tmp
      mp_path_guest: /shares_tmp
    - vmid: 127
      mp_nr: 6
      mp_path_host: /hdd_data_raidz/archiv
      mp_path_guest: /shares_archiv
    - vmid: 127
      mp_nr: 7
      mp_path_host: /hdd_data_raidz/bilder
      mp_path_guest: /shares_bilder
    - vmid: 127
      mp_nr: 8
      mp_path_host: /hdd_data_raidz/hm
      mp_path_guest: /shares_hm
    - vmid: 127
      mp_nr: 9
      mp_path_host: /hdd_data_raidz/scans
      mp_path_guest: /shares_scans
    - vmid: 127
      mp_nr: 10
      mp_path_host: /hdd_data_raidz/restic
      mp_path_guest: /shares_restic
    - vmid: 127
      mp_nr: 11
      mp_path_host: /hdd_data_raidz/amd
      mp_path_guest: /shares_amd
    - vmid: 127
      mp_nr: 12
      mp_path_host: /hdd_data_raidz/backup
      mp_path_guest: /shares_backup
    - vmid: 127
      mp_nr: 14
      mp_path_host: /hdd_data_raidz/buecher
      mp_path_guest: /shares_buecher
    - vmid: 127
      mp_nr: 15
      mp_path_host: /hdd_data_raidz/programme
      mp_path_guest: /shares_programme
    - vmid: 127
      mp_nr: 16
      mp_path_host: /hdd_data_raidz/vm
      mp_path_guest: /shares_vm
