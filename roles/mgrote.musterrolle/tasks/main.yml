# f√ºr scripte
  - name: create /etc/restic
    become: yes
    file:
      path: /etc/restic
      state: directory



      ##### install logroate

  - name: copy restic_backup.sh
    become: yes
    template:
      src: "restic_backup.sh"
      dest: "/usr/local/bin/restic_backup.sh"
      mode: a+x
  - name: copy exclude.txt
    become: yes
    template:
      src: "exclude.txt"
      dest: "/etc/restic/exclude.txt"

  - name: Create restic log
    become: true
    file:
      path: /var/log/restic.log
      state: touch
      owner: root
      group: root
      mode: 0644
      access_time: preserve
      modification_time: preserve

  - name: Add restic Log to be Rotated
    become: true
    blockinfile:
      path: /etc/logrotate.d/restic
      state: present
      create: yes
      owner: root
      group: root
      mode: 0644
      block: |
        /var/log/restic.log {
          su root root
          create 0640 root root
          rotate 4
          weekly
          compress
          missingok
          notifempty
          dateext
          dateyesterday
        }



# SIEHE: http://dokuwiki2.grote.lan/artikel/technik/linux_-_scripte_-_speicherorte
