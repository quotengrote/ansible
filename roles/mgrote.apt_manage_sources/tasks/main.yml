---
  - name: include ubuntu tasks (determined by "ansible_distribution")
    include_tasks: ubuntu.yml
    when:
      - ansible_distribution == 'Ubuntu'
      - manage_sources_apt_proxy is defined

  - name: include Linux Mint tasks (determined by "ansible_distribution")
    include_tasks: mint.yml
    when:
      - ansible_distribution == 'Linux Mint'
      - manage_sources_apt_proxy is defined

  - name: include pve tasks (determined by group)
    include_tasks: pve.yml
    when:
      - "'pve' in group_names"
      - manage_sources_apt_proxy is defined

  - name: include extra repo tasks
    include_tasks: extra_repos.yml
    when:
      - manage_sources_extra_repos is defined

  - name: include pbs tasks (determined by group)
    include_tasks: pbs.yml
    when:
      - "'pbs' in group_names"
      - manage_sources_apt_proxy is defined
