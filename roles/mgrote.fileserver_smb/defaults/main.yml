---
  # Global SMB options
  ## "smb_global_options" = dict
  ## -option: "smbd option name" <-- value
  ##  value: "smbd value" <-- value
  ## neue Optionen konnen einfach angehangen werden bzw. alte entfernt werden
  smb_global_options:
    - option: min_protocol
      value: "SMB2_02"
    - option: client_min_protocol
      value: "SMB2_02"
    - option: client_max_protocol
      value: "SMB3_00"
    - option: log_level
      value: "1"
    - option: log_file
      value: "/var/log/samba/log"
    - option: max_log_size
      value: "1000"
    - option: logging
      value: "syslog"
    - option: panic_action
      value: "/usr/share/samba/panic-action_%d"
    - option: passdb_backend
      value: "tdbsam"
    - option: obey_pam_restrictions
      value: "no"
    - option: unix_password_sync
      value: "no"
    - option: passwd_program
      value: "/usr/bin/passwd_%u"
    - option: passwd_chat
      value: '*Enter\snew\s*\spassword:*_%n\n_*Retype\snew\s*\spassword:*_%n\n_*password\supdated\ssuccessfully*_.'
    - option: pam_password_change
      value: "yes"
    - option: guest_account
      value: "nobody"
    - option: load_printers
      value: "no"
    - option: unix_extensions
      value: "yes"
    - option: wide_links
      value: "no"
    - option: create_mask
      value: "0777"
    - option: directory_mask
      value: "0777"
    - option: map_to_guest
      value: "Bad User"
    - option: use_sendfile
      value: "yes"
    - option: aio_read_size
      value: "16384"
    - option: aio_write_size
      value: "16384"
    - option: local_master
      value: "yes"
    - option: time_server
      value: "no"
    - option: wins_support
      value: "no"
    - option: acl_allow_execute_always
      value: "yes"
    - option: force_user
      value: "root"
    - option: force_group
      value: "users"
    - option: workgroup
      value: WORKGROUP
    - option: server_string
      value: "%h_server"

  # packages
  smb_packages:
    - samba
    - cifs-utils
    - samba-common
    - samba-common-bin
    - samba-vfs-modules

  # zfs-snapshots einbinden
  ## als <Pfad>\.zfs\snapshot einbinden
  ## sorgt dafur das statt "A0KDC9~F" die Ordnernamen als "autosnap_2021-11-04_23÷59÷02_daily" angezeigt werden
  ## https://www.samba.org/samba/docs/current/man-html/vfs_catia.8.html
  # aktiv?
  smb_enable_snapshots_dir: true
  # welche Character/zeichen-Ersetzungen soll catia ausführen
  smb_catia_mappings: "0x3a:0xf7" # ersetzt ":" durch "÷"

  # als Windows-Shattenkopien einbinden
  ## https://www.samba.org/samba/docs/current/man-html/vfs_shadow_copy2.8.html
  ## BUG: Windows sieht die Schattenkopien, kann die Ausgewählte Datei aber nicht öffnen wenn sie seit dem Snapshot gelöscht wurde, vmtl da Windows nicht den kompletten Snapshot-Pfad verwendet
  ## Format ist passend fur sanoid-Snapshots
  # aktiv?
  smb_enable_snapshots_shadow: false
  # wo liegen die Snapshots
  smb_shadow_snapdir: ".zfs/snapshot"
  # Sortierung
  smb_shadow_sort: "desc"
  # Datumsformat der Snapshots
  smb_shadow_format: "_%Y-%m-%d_%H:%M:%S"
  # Snapshot-Präfix
  smb_shadow_snapprefix: "^autosnap"
  # Snapshot-"Trenner"
  smb_shadow_delimiter: "_"
  # zeitformat Snapshots
  smb_shadow_localtime: "no"
